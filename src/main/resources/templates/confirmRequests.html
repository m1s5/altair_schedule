<!DOCTYPE>

<html lang="ru" xmlns:th="http://thymeleaf.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://thymeleaf.org "><head>
    <meta charset="UTF-8">
    <title>Altair Schedule</title>
</head>

<header>
    <a style="text-align: right" href="/login">Login</a><br>
    <a style="text-align: right" href="/logout">Logout</a>
</header>
<body>
<form th:action="@{/confirmRequests}" method="post" th:object="${form}">
    <table>
        <thead  th:if="*{!requests.empty}">
        <tr><th>id</th><th>subject</th><th>domain</th><th>tutor</th><th>assistant</th>
            <th>classroom</th><th>date</th><th>time</th><th>duration</th><th>accept</th></tr>
        </thead>
        <tbody>
        <tr th:if="*{requests.empty}">
            <td colspan="2"> Нет заявок</td>
        </tr>

        <tr th:each="request, itemStat: *{requests}">
            <td><span th:text="*{requests[__${itemStat.index}__].id}">          id </span></td>
            <td><span th:text="*{requests[__${itemStat.index}__].subject}">     subject </span></td>
            <td><span th:text="*{requests[__${itemStat.index}__].domain.name}"> domain </span></td>
            <td><span th:text="*{requests[__${itemStat.index}__].tutor}">       tutor </span></td>
            <td><span th:text="*{requests[__${itemStat.index}__].assistant}">   assistant </span></td>
            <td><span th:text="*{requests[__${itemStat.index}__].classroom}">   classroom </span></td>
            <td><span th:text="*{requests[__${itemStat.index}__].dateTime}">        date/time </span></td>
            <td><span th:text="*{requests[__${itemStat.index}__].duration}">    duration </span></td>
            <td><span>
                <input type="hidden" name="id"          th:field="*{requests[__${itemStat.index}__].id}">
                <input type="hidden" name="subject"     th:field="*{requests[__${itemStat.index}__].subject}">
                <input type="hidden" name="domain.name" th:field="*{requests[__${itemStat.index}__].domain}">
                <input type="hidden" name="tutor"       th:field="*{requests[__${itemStat.index}__].tutor}">
                <input type="hidden" name="assistant"   th:field="*{requests[__${itemStat.index}__].assistant}">
                <input type="hidden" name="classroom"   th:field="*{requests[__${itemStat.index}__].classroom}">
                <input type="hidden" name="dateTime"    th:field="*{requests[__${itemStat.index}__].dateTime}">
                <input type="hidden" name="duration"    th:field="*{requests[__${itemStat.index}__].duration}">
                <input type="checkbox" name="form"      th:value="*{requests[__${itemStat.index}__].id}"

                                                        th:field="*{requests[__${itemStat.index}__].isAccepted}" />
            </span></td>
        </tr>
        </tbody>
        <input type="submit"/>
    </table>
</form>
<br/><br/>
<table>
    <thead  th:if="${!lessons.empty}">
        <tr><th>id</th><th>subject</th><th>domain</th><th>tutor</th><th>assistant</th>
            <th>classroom</th><th>date</th><th>time</th><th>duration</th></tr>
    </thead>
    <tbody>
    <tr th:if="${lessons.empty}">
        <td colspan="2"> Нет записей </td>
    </tr>
    <tr th:each="lesson : ${lessons}" th:object="${lesson}">
        <td><span th:text="*{id}"> id </span></td>
        <td><span th:text="*{subject}"> subject </span></td>
        <td><span th:text="*{domain.name}"> domain </span></td>
        <td><span th:text="*{tutor}"> tutor </span></td>
        <td><span th:text="*{assistant}"> assistant </span></td>
        <td><span th:text="*{classroom}"> classroom </span></td>
        <td><span th:text="*{dateTime}"> date/time </span></td>
        <td><span th:text="*{duration}"> duration </span></td>
    </tr>
    </tbody>
</table>

<br><br>

<a href="/">Расписание</a>
</body>
</html>